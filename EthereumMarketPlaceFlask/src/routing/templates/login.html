<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Ethereum Marketplace</title>
    <link rel="icon" href="https://raw.githubusercontent.com/ethereum/foundation/master/src/favicon.ico">

    <!-- Bootstrap -->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/app.css') }}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
<body style="background:url('http://blogs.lexisnexis.co.uk/dr/wp-content/uploads/sites/2/2016/07/51570977_xl.jpg')">  
  	<div class="container-custom">
    
    	<!-- Header start -->
    
		{% include 'header.html' %}
      	
      	<!-- Header ends -->
      	
      	
      	
      	<div class="row" style="padding-top:70px;">
      		<div class="col-md-4 col-md-offset-4" style="border-bottom:1px rgba(0, 0, 0, 0.1) solid;">
      			<h2 style="text-align:center;color:#4A90E2;">Login</h2>
      			<div class="form-group loginform" style="line-height:40px;">
      				 <label style="font-size:12px;">Account<span style="font-size: 11px;margin-left: 10px;">*Change account in metamask in order to login from other account</span></label>
      				 <br>
					   <input type="text" class="form-control" name="account" value="" disabled></input>
					   <label style="font-size:12px;">Password</label>					   
					   <input type="password" id="pass-login" class="form-control" name="password" value=""></input>
      				 <button type="submit" id="login" class="btn btn-primary" style="margin-top:15px;width:100%;background-color:#4A90E2;">Login</button>
      			</div>
      		</div>
      		<div class="col-md-4 col-md-offset-4" style="border-bottom:1px rgba(0, 0, 0, 0.1) solid;">
      			<h2 style="text-align:center;color:#4A90E2;">SignUp</h2>
      			<div class="form-group signupform" style="line-height:30px;">
      				 <label style="font-size:12px;">First Name</label>
      				 <br>
      				 <input type="text" class="form-control" name="first_name" required></input>
      				 <label style="font-size:12px;">Last Name</label>
      				 <br>
      				 <input type="text" class="form-control" name="last_name" required></input>
      				 <label style="font-size:12px;">Email</label>
					<br>
					<input type="email" class="form-control" name="email" required></input>
					<label style="font-size:12px;">Password</label>
					<br>   
					<input type="password" class="form-control" name="password" required></input>
      				 <label style="font-size:12px;">Account<span style="font-size: 11px;margin-left: 10px;">*Change account in metamask in order to login from other account</span></label>
      				 <br>
      				 <input type="text" class="form-control" name="account" value="" disabled></input>
      				 <button type="submit" id="signup" class="btn btn-primary" style="margin-top:15px;width:100%;background-color:#4A90E2;">SignUp</button>
      			</div>
      		</div>
      		
      	</div>
      	
      	
      	
    </div>
    

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{{ url_for('static', filename='js/web3.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/truffle-contract.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    <script src="{{ url_for('static', filename='js/events.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bignumber.js') }}"></script>
    
    <script>
		function render(){			
    		  console.log("ya");
    		  var group = $('input[name="account"]');
			  var acc = web3.eth.accounts[0];
    		  if (group.length > 1){
    		     group.each(function () {
    		          $(this).val(acc);
    		     });
    		  }
		}
	</script>
	
	<script>
		$(function() {
			$(window).load(function() {
				if (typeof web3 !== 'undefined') {
					  web3 = new Web3(web3.currentProvider);
					} else {
					  // set the provider you want from Web3.providers
					  provider = new Web3.providers.HttpProvider('http://localhost:8545');
					  web3 = new Web3(provider);
					}
				  
				  setTimeout(function() { checkInstance(); }, 1000);
			  });
		});
	</script>

<script>
	function checkInstance() {
	   console.log("instance "+App.getInstance());
	   if (App.getInstance()!=undefined) {
		   render();
	   }
	 }

	 /* setTimeout(checkInstance, 1000); */
</script>
    
    
  </body>
</html>
